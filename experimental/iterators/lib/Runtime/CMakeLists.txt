add_mlir_public_c_api_library(IteratorsRuntime
  Arrow.cpp

  LINK_LIBS PUBLIC
)

# Determine full path to output name of the built library.
get_target_property(ITERATORS_RUNTIME_LIBRARY_OUTPUT_NAME IteratorsRuntime LIBRARY_OUTPUT_NAME)
get_target_property(ITERATORS_RUNTIME_OUTPUT_NAME IteratorsRuntime OUTPUT_NAME)
if ("${ITERATORS_RUNTIME_LIBRARY_OUTPUT_NAME}")
  set(ITERATORS_RUNTIME_LIBRARY_FILENAME "${ITERATORS_RUNTIME_LIBRARY_OUTPUT_NAME}")
elseif("${ITERATORS_RUNTIME_OUTPUT_NAME}")
  set(ITERATORS_RUNTIME_LIBRARY_FILENAME "${ITERATORS_RUNTIME_OUTPUT_NAME}")
else()
  get_target_property(ITERATORS_RUNTIME_NAME IteratorsRuntime NAME)
  set(ITERATORS_RUNTIME_LIBRARY_FILENAME
      "${CMAKE_SHARED_LIBRARY_PREFIX}${ITERATORS_RUNTIME_NAME}${CMAKE_SHARED_LIBRARY_SUFFIX}")
endif()
get_target_property(ITERATORS_RUNTIME_LIBRARY_OUTPUT_DIRECTORY IteratorsRuntime LIBRARY_OUTPUT_DIRECTORY)
cmake_path(APPEND ITERATORS_RUNTIME_LIBRARY_PATH
            "${ITERATORS_RUNTIME_LIBRARY_OUTPUT_DIRECTORY}" "${ITERATORS_RUNTIME_LIBRARY_FILENAME}")
set(ITERATORS_RUNTIME_LIBRARY_PATH "${ITERATORS_RUNTIME_LIBRARY_PATH}"
    CACHE INTERNAL "Full output path of the Iterators runtime library")
message("-- Determined full path to Iterators runtime lib: ${ITERATORS_RUNTIME_LIBRARY_PATH}")
